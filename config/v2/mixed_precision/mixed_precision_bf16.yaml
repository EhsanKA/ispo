# Configuration for mixed precision optimization with Geneformer v2 12L model
# Precision: BF16 (bfloat16 precision)

# Dataset configuration
dataset:
  name: "sciplex2"
  data_path: "data/SrivatsanTrapnell2020_sciplex2.h5ad"
  download_url: "https://zenodo.org/record/10044268/files/SrivatsanTrapnell2020_sciplex2.h5ad?download=1"
  num_cells: 1000
  random_seed: 42

# Model configuration
model:
  name: "gf-12L-38M-i4096"  # Geneformer v2 12L model (12 layers, 38M parameters, 4096 input length)
  version: "v2"
  device: "auto"  # "auto", "cuda", or "cpu"

# Optimization method configuration
optimization:
  method: "mixed_precision"
  precision: "bf16"
  batch_size: 256

# Baseline comparison configuration
baseline:
  embeddings_path: "results/baseline_gf_v2_12/embeddings.npz"  # Path to baseline embeddings for comparison
  enabled: true  # Enable baseline comparison metrics

# Output configuration
output:
  base_dir: "results"
  output_dir: "results/v2/mixed_precision_bf16"
  save_embeddings: true
  save_metadata: true
  save_metrics: true
  save_evaluation_metrics: true
  save_geometry_metrics: true
  save_baseline_comparison: true

# Wandb configuration
wandb:
  enabled: true
  project: "ispo"
  run_name: null  # null = auto-generate (will be: mixed_precision_bf16_bs256_gf-12L-38M-i4096_cuda)
  tags:
    - "optimized"
    - "mixed_precision"
    - "bf16"
    - "geneformer-v2"
    - "12L"
    - "evaluation"
  log_embeddings: true
  log_artifacts: true

# Evaluation configuration
evaluation:
  zero_shot:
    test_size: 0.2
    random_state: 42
  geometry:
    k_neighbors: 15

# Inference configuration
inference:
  batch_size: 256  # Mixed precision batch size

# Resource logging
logging:
  log_cpu: true
  log_gpu: true
  log_memory: true
  log_temperature: true
  update_interval: 1.0  # seconds between metric updates

